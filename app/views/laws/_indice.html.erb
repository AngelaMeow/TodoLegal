<style>
  strong {font-weight:bold;}
  .index-element {
    font-family: 'Merriweather', serif;
  }

  .btn-link {
    text-align: left;
  }
</style>

<div class="container" style="">

  <div id="accordion">
        <div class="card">
            <div class="card-header" id="headingOne">
                <h5 class="mb-0 d-inline">
                    <button class="btn btn-link">
                      Libro 1
                      <br> Lorem Ipsum 
                    </button>
                 </h5>
                 <a href="#" class="my-2 float-right" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                 <i class="fa fa-chevron-down"></i>
                 </a>
            </div>
            <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
                <div class="card-body" id="child1">
                    <div class="card">
                        <div class="card-header">
                            <a href="#">
                            Título 1
                            <br> Lorem Ipsum 
                            </a>

                          <a href="#" class="my-2 float-right" data-toggle="collapse" data-target="#collapseOneA">
                          <i class="fa fa-chevron-down"></i>
                          </a>
                        </div>
                        <div class="card-body collapse" data-parent="#child1" id="collapseOneA">
                            Capitulo 1  
                            <br> Lorem Ipsum 
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <a href="#">
                            Título 2  
                            <br> Lorem Ipsum </a>
                            <a href="#" class="my-2 float-right" data-toggle="collapse" data-target="#collapseOneB">
                            <i class="fa fa-chevron-down"></i>
                            </a>
                        </div>
                        <div class="card-body collapse" data-parent="#child1" id="collapseOneB">
                            Capitulo 2  
                            <br> Lorem Ipsum 
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        </div>
    </div>


  <table class="list-unstyled components">
    <% if @has_articles_only %>
      <% i = 0 %>
      <% @stream.each do |stream| %>
        <tr class="index-element" style="font-size: 20px;padding-right: 50px;">
          <td style="white-space: nowrap; text-align: center;">
            <a class="uncolored_link" href="#article_<%= stream.position %>" onclick="$('.nav a:first').tab('show');setTimeout(function(){onIndexElementClicked('article_count_<%= i %>')}, 500)" aria-controls="articulos" aria-selected="true">
              <b>Artículo <%= stream.number %></b>
            </a>
          </td>
        </tr>
        <% i+=1 %>
      <% end %>
    <% else %>
      <% @index_items.each do |index_items|%>
        <% if index_items.instance_of? Book %>
          <tr class="index-element" style="font-size: 25px;padding-right: 50px;">
            <td style="white-space: nowrap; text-align: center;">
              <a class="uncolored_link" href="#book_<%= index_items.position %>" onclick="$('.nav a:first').tab('show');setTimeout(function(){onIndexElementClicked('book_<%= index_items.position %>')}, 500)" aria-controls="articulos" aria-selected="true">
                <b>Libro <%= index_items.number %></b></br>
              </a>
            </td>
            <td style="padding-left: 40px">
              <a class="uncolored_link" href="#book_<%= index_items.position %>" onclick="$('.nav a:first').tab('show');setTimeout(function(){onIndexElementClicked('book_<%= index_items.position %>')}, 500)" aria-controls="articulos" aria-selected="true">
                <%= index_items.name %>
              </a>
            </td>
          </tr>
        <% end %>
        <% if index_items.instance_of? Title %>
          <tr class="index-element" style="font-size: 20px;padding-right: 50px;">
            <td style="white-space: nowrap; text-align: center;">
              <a class="uncolored_link" href="#title_<%= index_items.position %>" onclick="$('.nav a:first').tab('show');setTimeout(function(){onIndexElementClicked('title_<%= index_items.position %>')}, 500)" aria-controls="articulos" aria-selected="true">
                <b>Titulo <%= index_items.number %></b>
              </a>
            </td>
            <td style="padding-left: 40px">
              <a class="uncolored_link" href="#title_<%= index_items.position %>" onclick="$('.nav a:first').tab('show');setTimeout(function(){onIndexElementClicked('title_<%= index_items.position %>')}, 500)" aria-controls="articulos" aria-selected="true">
                <%= index_items.name %>
              </a>
            </td>
          </tr>
        <% end %>
        <% if index_items.instance_of? Chapter %>
          <tr class="index-element" style="font-size: 15px;padding-right: 50px;">
            <td style="white-space: nowrap; text-align: center;">
              <a class="uncolored_link" href="#chapter_<%= index_items.position %>" onclick="$('.nav a:first').tab('show');setTimeout(function(){onIndexElementClicked('chapter_<%= index_items.position %>')}, 500)" aria-controls="articulos" aria-selected="true">
                <b>Capítulo <%= index_items.number %></b></br>
              </a>
            </td>
            <td style="padding-left: 40px">
              <a class="uncolored_link" href="#chapter_<%= index_items.position %>" onclick="$('.nav a:first').tab('show');setTimeout(function(){onIndexElementClicked('chapter_<%= index_items.position %>')}, 500)" aria-controls="articulos" aria-selected="true">
                <%= index_items.name %>
              </a>
            <td>
          </tr>
        <% end %>
        <% if index_items.instance_of? Section %>
          <tr class="index-element" style="font-size: 12px;padding-right: 50px;">
            <td style="white-space: nowrap; text-align: center;">
              <a class="uncolored_link" href="#section_<%= index_items.position %>" onclick="$('.nav a:first').tab('show');setTimeout(function(){onIndexElementClicked('section_<%= index_items.position %>')}, 500)" aria-controls="articulos" aria-selected="true">
                <b>Sección <%= index_items.number %></b></br>
              </a>
            </td>
            <td style="padding-left: 40px">
              <a class="uncolored_link" href="#section_<%= index_items.position %>" onclick="$('.nav a:first').tab('show');setTimeout(function(){onIndexElementClicked('section_<%= index_items.position %>')}, 500)" aria-controls="articulos" aria-selected="true">
                <%= index_items.name %>
              </a>
            </td>
          </tr>
        <% end %>
        <% if index_items.instance_of? Subsection %>
          <tr class="index-element" style="font-size: 12px;padding-right: 50px;">
            <td style="white-space: nowrap; text-align: center;">
              <a class="uncolored_link" href="#subsection_<%= index_items.position %>" onclick="$('.nav a:first').tab('show');setTimeout(function(){onIndexElementClicked('subsection_<%= index_items.position %>')}, 500)" aria-controls="articulos" aria-selected="true">
                <b>Sección <%= index_items.number %></b></br>
              </a>
            </td>
            <td style="padding-left: 40px">
              <a class="uncolored_link" href="#subsection_<%= index_items.position %>" onclick="$('.nav a:first').tab('show');setTimeout(function(){onIndexElementClicked('subsection_<%= index_items.position %>')}, 500)" aria-controls="articulos" aria-selected="true">
                <%= index_items.name %>
              </a>
            </td>
          </tr>
        <% end %>
      <% end %>
    <% end %>
  </table>
</div>
